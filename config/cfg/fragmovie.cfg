// Unexplained crashes? Set mat_queue_mode to '-1'.
// ----------------------------------------------------------------------------
// jeebs fragmovie config
// v2.2 | 13 May 2021
// ----------------------------------------------------------------------------
// Problems or questions? Contact me at jayyy lmao#1999 on Discord.
// ----------------------------------------------------------------------------
// Read this:
// ----------------------------------------------------------------------------
// Designed to get you a large performance boost on DX9 with modern hardware.
// Config inspired by m0re's configs, chris' configs, comanglia's configs, rhapsody's config and mastercomfig.
// Config written in reference to mastercom's documentation.
// Install to > Steam/steamapps/common/Team Fortress 2/tf/custom/config/cfg
// Alternatively install to > Steam/steamapps/common/Team Fortress 2/tf/cfg
// ----------------------------------------------------------------------------
// Recommended launch options:
// ----------------------------------------------------------------------------
// Right click TF2 in Steam > Properties > Launch Options
// -full					:: Force fullscreen mode.
// -width					:: Set your resolution width manually.
// -height					:: Set your resolution height manually.
// -freq					:: Set your monitor refresh rate manually for tf2.
// -console					:: Open your console on game startup.
// -novid					:: Skip Valve into video.
// -nojoy					:: Disable joystick to reduce memory usage.
// -reuse					:: Allow network sockets to be reused when busy. Increases network performance.
// -nosteamcontroller		:: Disables Steam controller system. Faster startup, less memory usage and less input conflictions.
// -nohltv					:: Disable SourceTV hosting, faster startup and less memory usage.
// -particles 1				:: Limits beam count to the minimum for 512.
// -precachefontchars		:: Precaches font rendering for common characters.
// -nostartupsound			:: Disable game music on main menu.
// -r_emulate_gl			:: MIGHT CAUSE CRASHES ON MAP CHANGE. Enables OpenGL on Windows. FPS boost on most GPUs and can increase stability on older hardware with newer DX levels.
// -dxlevel					:: Sets your DirectX level. FPS boost on most GPUs. No boost on others.
// NOTE: Remove -dxlevel from your launch options after first boot for better and more reliable alt-tabbing.
// ----------------------------------------------------------------------------
// Niche launch options:
// ----------------------------------------------------------------------------
// -nocrashdialog			:: Supress some 'memory could not be read' unhandled errors.
// -32bit					:: Force the engine to start in 32-bit mode. Only useful on 64-bit operating systems.
// -dev						:: Enables developer mode. Also disables the automatic loading of main menu backgrounds and stops the quit dialog from appearing one exit.
// -nouserclip				:: Use software clipping instead of hardware user clip planes. FPS increase or decrease depending on your CPU+GPU.
// -nosound					:: Disable all sounds. No FPS boost unless your sound drivers are slow.
// -small					:: Allow for resolutions smaller than 640x480.
// nod3d9ex					:: Fix broken mumble overlay. Can affect alt-tabbing speed.
// ----------------------------------------------------------------------------
// To uninstall:
// ----------------------------------------------------------------------------
// Delete tf/cfg (and delete this config file from your custom folder if you have it installed there) and verify your game files.
// Now launch tf2 with the following launch options:
// -novid -autoconfig -default +host_writeconfig config.cfg full +mat_savechages +quit
// The game will launch and exit. Afterwards, remove these launch options.
// ----------------------------------------------------------------------------
mat_dxlevel 95
// ----------------------------------------------------------------------------
// In game settings
// ----------------------------------------------------------------------------
cl_hud_minmode "1"
fov_desired "90"
viewmodel_fov "70"
r_drawviewmodel "1"
tf_use_min_viewmodels "0"
tf_use_match_hud "0"
hud_combattext "0"
hud_combattext_red "255"
hud_combattext_green "255"
hud_combattext_blue "30"
cl_crosshair "1"
cl_crosshair_file ""
cl_crosshair_scale "50"
cl_crosshair_red "255"
cl_crosshair_green "255"
cl_crosshair_blue "255"
cl_crosshair_alpha "255"
tf_dingalingaling "0"
hud_saytext_time "0"
voice_enable "0"
net_graph "0"
cl_showfps "0"
cl_showpos "0"

// ----------------------------------------------------------------------------
// Lock settings
// ----------------------------------------------------------------------------
alias cl_hud_minmode ""
alias fov_desired ""
alias viewmodel_fov ""
alias r_drawviewmodel ""
alias tf_use_min_viewmodels ""
alias tf_use_match_hud ""
alias hud_combattext ""
alias hud_combattext_red ""
alias hud_combattext_green ""
alias hud_combattext_blue ""
alias cl_crosshair ""
alias cl_crosshair_file ""
alias cl_crosshair_scale ""
alias cl_crosshair_red ""
alias cl_crosshair_green ""
alias cl_crosshair_blue ""
alias cl_crosshair_alpha ""
alias tf_dingalingaling ""
alias hud_saytext_time ""
alias voice_enable ""
alias net_graph ""
alias cl_showfps ""
alias cl_showpos ""

// ----------------------------------------------------------------------------
// LOD
// ----------------------------------------------------------------------------
r_rootlod "0"
r_lod "-1"

// ----------------------------------------------------------------------------
// Lighting
// ----------------------------------------------------------------------------
mat_filterlightmaps "1"
r_ambientboost "1"
r_lightaverage "1"
r_dynamic "1"
r_maxdlights "32"
r_worldlightmin "0.0002"
r_lightcache_zbuffercache "0"
r_worldlights "4"
mat_disable_lightwarp "0"
mat_reducefillrate "0"
r_rimlight "1"
mat_specular "1"
r_pixelvisibility_partial "1"
building_cubemaps "0"
r_dopixelvisibility "1"
mat_parallaxmap "0"

// ----------------------------------------------------------------------------
// Shadows
// ----------------------------------------------------------------------------
r_shadows "1"
r_shadowrendertotexture "1"
cl_blobbyshadows "0"
r_shadowmaxrendered "23"
nb_shadow_dist "1000"
r_flashlightdepthtexture "0"
r_flashlightrender "0"
r_flashlightmodels "0"
r_flashlightculldepth "0"
r_flashlightscissor "0"

// ----------------------------------------------------------------------------
// Effects
// ----------------------------------------------------------------------------
tracer_extra "1"
r_drawtracers_firstperson "1"
cl_show_splashes "1"
cl_ejectbrass "1"
cl_muzzleflash_dlight_1st "1"
cl_drawmonitors "1"
muzzleflash_light "1"
cl_fasttempentcollision "17"

// ----------------------------------------------------------------------------
// Water
// ----------------------------------------------------------------------------
r_WaterDrawReflection "1"
r_waterforceexpensive "1"
r_waterforcereflectentities "1"
r_WaterDrawRefraction "1"

// ----------------------------------------------------------------------------
// Particles
// ----------------------------------------------------------------------------
tf_impactwatertimeenable "0"
cl_particle_batch_mode "1"
tf_particles_disable_weather "0"
mat_reduceparticles "0"
cl_new_impact_effects "1"
r_drawflecks "1"

// ----------------------------------------------------------------------------
// Post processing
// ----------------------------------------------------------------------------
mat_hdr_level "1"
mat_colorcorrection "1"
mat_colcorrection_disableentities "0"
mat_bloom_scalefactor_scalar "0.75"
r_bloomtintr "0.3"
r_bloomtintg "0.59"
r_bloomtintb "0.11"
r_bloomtintexponent "2.2"

// ----------------------------------------------------------------------------
// Anti aliasing
// ----------------------------------------------------------------------------
mat_alphacoverage "1"
mat_antialias "8"
mat_software_aa_strength "0"
mat_software_aa_strength_vgui "0"

// ----------------------------------------------------------------------------
// Texture filtering
// ----------------------------------------------------------------------------
mat_forceaniso "16"
mat_trilinear "1"

// ----------------------------------------------------------------------------
// Characters
// ----------------------------------------------------------------------------
r_flex "1"
flex_rules "1"
anim_3wayblend "1"
r_teeth "1"
flex_smooth "1"
r_eyes "1"
r_eyemove "1"
tf_clientsideeye_lookats "1"
blink_duration "0.2"
phonemefilter "0.08"
phonemedelay "0"
phonemesnap "4"

// ----------------------------------------------------------------------------
// Decals
// ----------------------------------------------------------------------------
r_decals "2048"
mp_decals "2048"
r_decal_cover_count "8"
r_decal_overlap_area "1"
r_decal_overlap_count "8"
r_drawmodeldecals "1"
r_maxmodeldecal "32"
r_renderoverlayfragment "1"

// ----------------------------------------------------------------------------
// Gibs
// ----------------------------------------------------------------------------
cl_burninggibs "1"
props_break_max_pieces "-1"
tf_playergib "1"
violence_hgibs "1"
violence_hblood "1"
violence_agibs "1"
violence_ablood "1"

// ----------------------------------------------------------------------------
// Props
// ----------------------------------------------------------------------------
r_decalstaticprops "1"
cl_phys_props_enable "1"
r_drawdetailprops "1"
r_staticprop_lod "0"
r_PhysPropStaticLighting "1"
r_propsmaxdist "900"
lod_TransitionDist "400"
cl_phys_props_max "100"
cl_phys_props_respawndist "901"
cl_phys_props_respawnrate "60"

// ----------------------------------------------------------------------------
// Ragdolls
// ----------------------------------------------------------------------------
cl_ragdoll_fade_time "10"
cl_ragdoll_forcefade "0"
cl_ragdoll_physics_enable "1"
cl_ragdoll_collide "1"
ragdoll_sleepaftertime "5"

// ----------------------------------------------------------------------------
// Textures
// ----------------------------------------------------------------------------
mat_filtertextures "1"
mat_picmip "-1"
mat_disable_fancy_blending "0"

// ----------------------------------------------------------------------------
// Ropes
// ----------------------------------------------------------------------------
r_drawropes "1"
rope_rendersolid "1"
r_ropetranslucent "1"
rope_smooth "1"
rope_subdiv "7"
rope_collide "1"
rope_wind_dist "1000"

// ----------------------------------------------------------------------------
// Sound
// ----------------------------------------------------------------------------
snd_disable_mixer_duck "1"
snd_pitchquality "0"
dsp_slow_cpu "1"
snd_spatialize_roundrobin "3"
dsp_room "0"
dsp_facingaway "0"
dsp_speaker "0"
dsp_water "0"
dsp_spatial "0"
snd_defer_trace "1"

// ----------------------------------------------------------------------------
// File I/O
// ----------------------------------------------------------------------------
net_maxfilesize "64"
filesystem_buffer_size "32768"
filesystem_max_stdio_read "64"
filesystem_native "1"
filesystem_unbuffered_io "1"
tf_steam_workshop_query_timeout "5"

// ----------------------------------------------------------------------------
// Memory
// ----------------------------------------------------------------------------
mem_max_heapsize_dedicated "128"
lzma_persistent_buffer "1"
cl_always_flush_models "0"
mat_levelflush "1"
sv_forcepreload "0"
mat_bufferprimitives "1"

// ----------------------------------------------------------------------------
// Model Cache
// ----------------------------------------------------------------------------
mod_load_anims_async "0"
mod_load_mesh_async "0"
mod_load_vcollide_async "0"
mod_lock_mdls_on_load "0"
mod_forcetouchdata "1"
mod_touchalldata "1"
mod_forcedata "1"

// ----------------------------------------------------------------------------
// Threading
// ----------------------------------------------------------------------------
mat_queue_mode "-2"
cl_setupallbones "0"
cl_threaded_client_leaf_system "0"
r_queued_decals "0"
r_queued_ropes "1"
r_queued_post_processing "0"
r_threaded_client_shadow_manager "1"
r_threaded_particles "1"
r_threaded_renderables "1"
host_thread_mode "1"
snd_async_fullyasync "1"
snd_async_minsize "0"

// ----------------------------------------------------------------------------
// Optimization
// ----------------------------------------------------------------------------
mat_vsync "0"
mat_powersavingsmode "0"
engine_no_focus_sleep "0"
r_fastzreject "0"
r_occlusion "1"
r_occludeemaxarea "1"
r_occluderminarea "1"
r_occludermincount "2"
mat_tonemapping_occlusion_use_stencil "1"
host_flush_threshold "0"
r_norefresh "1"
fast_fogvolume "1"
sv_alternateticks "0"
mod_offline_hdr_switch "1"
mat_forcemanagedtextureintohardware "0"
r_hunkalloclightmaps "0"
mat_requires_rt_alloc_first "0"
sys_minidumpspewlines "0"
r_shader_srgb "0"
sv_logdownloadlist "0"
cl_localnetworkbackdoor "0"
cl_particle_retire_cost "0"

// ----------------------------------------------------------------------------
// Misc.
// ----------------------------------------------------------------------------
r_3dsky "1"
cl_jigglebone_framerate_cutoff "1"
mat_bumpmap "1"
r_pixelfog "1"
pyro_dof "1"
pyro_vignette "2"
pyro_vignette_distortion "1"
mat_motion_blur_enabled "1"
mat_motion_blur_falling_intensity "0"
mat_motion_blur_percent_of_screen_max "1.5"
mat_motion_blur_rotation_intensity "0.05"
mat_motion_blur_strength "0.5"
r_spray_lifetime "0"
cl_playerspraydisable "1"
tf_sheen_framerate "15"
tf_sheen_alpha_firstperson "1"

// ----------------------------------------------------------------------------
// Config lock
// ----------------------------------------------------------------------------
alias null ""
// ----------------------------------------------------------------------------
// LOD
// ----------------------------------------------------------------------------
alias r_rootlod null
alias r_lod null
alias lod_transitiondist null

// ----------------------------------------------------------------------------
// Lighting
// ----------------------------------------------------------------------------
alias r_ambientboost null
alias r_ambientmin null
alias r_rimlight null
alias r_lightaverage null
alias r_dynamic null
alias r_worldlightmin null
alias r_worldlights null
alias mat_disable_lightwarp null
alias mat_filterlightmaps null
alias mat_phong null

// ----------------------------------------------------------------------------
// Shadows
// ----------------------------------------------------------------------------
alias r_shadows null
alias r_shadowrendertotexture null
alias cl_blobbyshadows null
alias r_flashlightdepthtexture null
alias r_flashlightdepthres null
alias r_flashlightrender null
alias r_shadowmaxrendered null

// ----------------------------------------------------------------------------
// Effects
// ----------------------------------------------------------------------------
alias cl_ejectbrass null
alias muzzleflash_light null
alias cl_muzzleflash_dlight_1st null
alias tracer_extra null
alias r_drawtracers_firstperson null
alias cl_show_splashes null
alias cl_fasttempentcollision null

// ----------------------------------------------------------------------------
// Water
// ----------------------------------------------------------------------------
alias r_waterdrawreflection null
alias r_waterforceexpensive null
alias r_waterforcereflectentities null
alias r_waterdrawrefraction null

// ----------------------------------------------------------------------------
// Particles
// ----------------------------------------------------------------------------
alias cl_particle_batch_mode null
alias tf_particles_disable_weather null
alias mat_reduceparticles null
alias cl_new_impact_effects null
alias r_drawflecks null

// ----------------------------------------------------------------------------
// Anti aliasing
// ----------------------------------------------------------------------------
alias mat_alphacoverage null
alias mat_software_aa_strength null
alias mat_software_aa_strength_vgui null
alias mat_software_aa_quality null
alias mat_softwarte_aa_edge_threshold null
alias mat_postprocessing_combine null
alias mat_antialias null
alias mat_aaquality null

// ----------------------------------------------------------------------------
// Post processing
// ----------------------------------------------------------------------------
alias mat_hdr_level null
alias mat_non_hdr_bloom_scalefactor null
alias mat_colorcorrection null

// ----------------------------------------------------------------------------
// Motion blur
// ----------------------------------------------------------------------------
alias mat_motion_blur_enabled null

// ----------------------------------------------------------------------------
// Texture filtering
// ----------------------------------------------------------------------------
alias mat_trilinear null
alias mat_forceaniso null

// ----------------------------------------------------------------------------
// Characters
// ----------------------------------------------------------------------------
alias r_flex null
alias flex_rules null
alias anim_3wayblend null
alias ai_expression_optimization null
alias ai_expression_frametime null
alias r_teeth null
alias flex_smooth null
alias mp_usehwmmodels null
alias mp_usehwmvcds null
alias r_eyes null
alias r_eyemove null
alias tf_clientsideeye_lookats null
alias blink_duration null
alias phonemefilter null
alias phonemesnap null

// ----------------------------------------------------------------------------
// Decals
// ----------------------------------------------------------------------------
alias r_decals null
alias mp_decals null
alias r_decal_cullsize null
alias r_decal_cover_count null
alias r_decal_overlap_area null
alias r_decal_overlap_count null
alias r_drawbatchdecals null

// ----------------------------------------------------------------------------
// Model decals
// ----------------------------------------------------------------------------
alias r_drawmodeldecals null
alias r_maxmodeldecal null

// ----------------------------------------------------------------------------
// Map decals
// ----------------------------------------------------------------------------
alias r_renderoverlayfragment null

// ----------------------------------------------------------------------------
// Gibs
// ----------------------------------------------------------------------------
alias cl_burninggibs null
alias props_break_max_pieces null
alias tf_playergib null

// ----------------------------------------------------------------------------
// Silly gibs
// ----------------------------------------------------------------------------
alias violence_hblood null
alias violence_hgibs null
alias violence_ablood null
alias violence_agibs null

// ----------------------------------------------------------------------------
// Ragdolls
// ----------------------------------------------------------------------------
alias cl_ragdoll_collide null
alias cl_ragdoll_fade_time null
alias cl_ragdoll_forcefade null
alias cl_ragdoll_physics_enable null
alias ragdoll_sleepaftertime null
alias g_ragdoll_fadespeed null
alias g_ragdoll_lvfadespeed null

// ----------------------------------------------------------------------------
// Textures
// ----------------------------------------------------------------------------
alias mat_picmip null
alias mat_filtertextures null

// ----------------------------------------------------------------------------
// Texture blending
// ----------------------------------------------------------------------------
alias mat_disable_fancy_blending null

// ----------------------------------------------------------------------------
// Bumpmap
// ----------------------------------------------------------------------------
alias mat_bumpmap null

// ----------------------------------------------------------------------------
// Specular
// ----------------------------------------------------------------------------
alias mat_specular null

// ----------------------------------------------------------------------------
// Props
// ----------------------------------------------------------------------------
alias r_decalstaticprops null
alias cl_phys_props_enable null
alias cl_phys_props_max null
alias cl_phys_props_respawndist null
alias cl_phys_props_respawnrate null
alias r_propsmaxdist null
alias r_drawdetailprops null
alias cl_detaildist null
alias cl_detailfade null

// ----------------------------------------------------------------------------
// Ropes
// ----------------------------------------------------------------------------
alias rope_rendersolid null
alias r_ropetranslucent null
alias rope_solid_minwidth null
alias rope_smooth null
alias rope_subdiv null
alias rope_collide null
alias rope_wind_dist null

// ----------------------------------------------------------------------------
// 3D sky
// ----------------------------------------------------------------------------
alias r_3dsky null

// ----------------------------------------------------------------------------
// Jigglebones
// ----------------------------------------------------------------------------
alias cl_jiggle_bone_framerate_cutoff null

// ----------------------------------------------------------------------------
// Sound
// ----------------------------------------------------------------------------
alias snd_disable_mixer_duck null
alias snd_pitchquality null
alias dsp_slow_cpu null
alias snd_spatialize_roundrobin null
alias dsp_room null
alias dsp_facingaway null
alias dsp_speaker null
alias dsp_water null
alias dsp_spatial null

// ----------------------------------------------------------------------------
// File I/O
// ----------------------------------------------------------------------------
alias net_maxfilesize null
alias filesystem_buffer_size null
alias filesystem_max_stdio_read null
alias filesystem_native null
alias filesystem_unbuffered_io null
alias tf_steam_workshop_query_timeout null

// ----------------------------------------------------------------------------
// Memory
// ----------------------------------------------------------------------------
alias mem_max_heapsize_dedicated null
alias lzma_persistent_buffer null
alias cl_always_flush_models null
alias mat_levelflush null
alias sv_forcepreload null
alias mat_bufferprimitives null

// ----------------------------------------------------------------------------
// Model cache
// ----------------------------------------------------------------------------
alias mod_load_anims_async null
alias mod_load_mesh_async null
alias mod_load_vcollide_async null
alias mod_lock_mdls_on_load null
alias mod_forcetouchdata null
alias mod_touchalldata null
alias mod_forcedata null

// ----------------------------------------------------------------------------
// Threading
// ----------------------------------------------------------------------------
alias mat_queue_mode null
alias cl_setupallbones null
alias cl_threaded_client_leaf_system null
alias r_queued_decals null
alias r_queued_ropes null
alias r_queued_post_processing null
alias r_threaded_client_shadow_manager null
alias r_threaded_particles null
alias r_threaded_renderables null
alias host_thread_mode null
alias snd_async_fullyasync null
alias snd_async_minsize null

// ----------------------------------------------------------------------------
// Optimization
// ----------------------------------------------------------------------------
alias mat_vsync null
alias mat_powersavingsmode null
alias engine_no_focus_sleep null
alias r_fastzreject null
alias r_occlusion null
alias r_occludeemaxarea null
alias r_occluderminarea null
alias r_occludermincount null
alias mat_tonemapping_occlusion_use_stencil null
alias host_flush_threshold null
alias r_norefresh null
alias fast_fogvolume null
alias sv_alternateticks null
alias mod_offline_hdr_switch null
alias mat_forcemanagedtextureintohardware null
alias r_hunkalloclightmaps null
alias mat_requires_rt_alloc_first null
alias sys_minidumpspewlines null
alias r_shader_srgb null
alias sv_logdownloadlist null
alias cl_localnetworkbackdoor null
alias cl_particle_retire_cost null

// ----------------------------------------------------------------------------
// Misc.
// ----------------------------------------------------------------------------
alias r_3dsky null
alias cl_jigglebone_framerate_cutoff null
alias mat_bumpmap null
alias r_pixelfog null
alias pyro_dof null
alias pyro_vignette null
alias pyro_vignette_distortion null
alias mat_motion_blur_enabled null
alias mat_motion_blur_falling_intensity null
alias mat_motion_blur_percent_of_screen_max null
alias mat_motion_blur_rotation_intensity null
alias mat_motion_blur_strength null
alias r_spray_lifetime null
alias cl_playerspraydisable null
alias tf_sheen_framerate null
alias tf_sheen_alpha_firstperson null

// ----------------------------------------------------------------------------
// Print to console
// ----------------------------------------------------------------------------
clear
mem_compact
echo "-------------------------------------"
echo "    jeebs fragmovie config loaded    "
echo "-------------------------------------"
echo "Please direct all comments/queries to"
echo "jayyy lmao#1999 on Discord."

// TODO: I DESERVE ICE-CREAM!
//             -/oossss/-````
//         -ohNmddhhhhhmNNNmNNh/`
//       .yNmyso++++++oooooooshNm:
//     /NNyssoossssssoooosooo+omM/
//     +Mmsssssssssssssssssssso+sNN.
//     NNssssssssssssssssssssssoshMo
//     MNsssyssssssssssssssssssssyMy
//     hMyssdhsshyssssssssssssydmNMmo-
//     :NMdhhhhyhdhhhysssssssshdhhhhmNo
//  .ymmddmdsyyhysyyssssssssssyhyhhsmM.
//  `mNyhhhyhsyhhssssssssyhyssssssyhsmM.
//  .MmyhysdMhyhssyyyssyNmdMdshdddhhdMy
//   +dmmdmNNNddmmddmmmmd/oMdyMdosMNo:`
//     .:hMy/+oso/:-:++/--dMyyMy-yM+
//       `dN/-:++:--:++/--NNyhMy+My
//         .mN///:+/:+/:+/-smmmd+Nm`
//         .mm++:-:::----:-::+:hM:
//          -Nm+/-++/---/++:/+yMo
//           :Nd:/+:+/-/+://:+Nh
//            /Mh//--::::-:+:mN.
//             oMy+/-/+/--+/hM/
//              sMs-/+:/+:-oMs
//               yMo//--/:/Nd`
//               `hMo+::+/mN.
//                `dN+-:/yM+
//                 `mN:-+My
//                  .mNsNd`
//                   `+o/
//                    ``
// TODO: SPREAD THE WORD :D

// DATA FOR ICE-CREAM INSTALLER UPDATER
// JEEBS FRAGMOVIE CONFIG
// VERSION 2.2