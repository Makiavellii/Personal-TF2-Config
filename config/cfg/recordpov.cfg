// Unexplained crashes? Set mat_queue_mode to '-1'.
// ----------------------------------------------------------------------------
// jeebs fragmovie config
// v2.2 | 13 May 2021
// ----------------------------------------------------------------------------
// Problems or questions? Contact me at jayyy lmao#1999 on Discord.
// ----------------------------------------------------------------------------
// Read this:
// ----------------------------------------------------------------------------
// Designed to get you a large performance boost on DX9 with modern hardware.
// Config inspired by m0re's configs, chris' configs, comanglia's configs, rhapsody's config and mastercomfig.
// Config written in reference to mastercom's documentation.
// Install to > Steam/steamapps/common/Team Fortress 2/tf/custom/config/cfg
// Alternatively install to > Steam/steamapps/common/Team Fortress 2/tf/cfg
// ----------------------------------------------------------------------------
// Recommended launch options:
// ----------------------------------------------------------------------------
// Right click TF2 in Steam > Properties > Launch Options
// -full					:: Force fullscreen mode.
// -width					:: Set your resolution width manually.
// -height					:: Set your resolution height manually.
// -freq					:: Set your monitor refresh rate manually for tf2.
// -console					:: Open your console on game startup.
// -novid					:: Skip Valve into video.
// -nojoy					:: Disable joystick to reduce memory usage.
// -reuse					:: Allow network sockets to be reused when busy. Increases network performance.
// -nosteamcontroller		:: Disables Steam controller system. Faster startup, less memory usage and less input conflictions.
// -nohltv					:: Disable SourceTV hosting, faster startup and less memory usage.
// -particles 1				:: Limits beam count to the minimum for 512.
// -precachefontchars		:: Precaches font rendering for common characters.
// -nostartupsound			:: Disable game music on main menu.
// -r_emulate_gl			:: MIGHT CAUSE CRASHES ON MAP CHANGE. Enables OpenGL on Windows. FPS boost on most GPUs and can increase stability on older hardware with newer DX levels.
// -dxlevel					:: Sets your DirectX level. FPS boost on most GPUs. No boost on others.
// NOTE: Remove -dxlevel from your launch options after first boot for better and more reliable alt-tabbing.
// ----------------------------------------------------------------------------
// Niche launch options:
// ----------------------------------------------------------------------------
// -nocrashdialog			:: Supress some 'memory could not be read' unhandled errors.
// -32bit					:: Force the engine to start in 32-bit mode. Only useful on 64-bit operating systems.
// -dev						:: Enables developer mode. Also disables the automatic loading of main menu backgrounds and stops the quit dialog from appearing one exit.
// -nouserclip				:: Use software clipping instead of hardware user clip planes. FPS increase or decrease depending on your CPU+GPU.
// -nosound					:: Disable all sounds. No FPS boost unless your sound drivers are slow.
// -small					:: Allow for resolutions smaller than 640x480.
// nod3d9ex					:: Fix broken mumble overlay. Can affect alt-tabbing speed.
// ----------------------------------------------------------------------------
// To uninstall:
// ----------------------------------------------------------------------------
// Delete tf/cfg (and delete this config file from your custom folder if you have it installed there) and verify your game files.
// Now launch tf2 with the following launch options:
// -novid -autoconfig -default +host_writeconfig config.cfg full +mat_savechages +quit
// The game will launch and exit. Afterwards, remove these launch options.
// ----------------------------------------------------------------------------
mat_dxlevel "95"
// ----------------------------------------------------------------------------
// In game settings
// ----------------------------------------------------------------------------
cl_hud_minmode "0"
fov_desired "90"
viewmodel_fov "70"
r_drawviewmodel "0"
tf_use_min_viewmodels "0"
tf_use_match_hud "0"
hud_combattext "1"
hud_combattext_red "255"
hud_combattext_green "255"
hud_combattext_blue "30"
cl_crosshair "1"
cl_crosshair_file ""
cl_crosshair_scale "45"
cl_crosshair_red "255"
cl_crosshair_green "255"
cl_crosshair_blue "255"
cl_crosshair_alpha "255"
tf_dingalingaling "0"
hud_saytext_time "2"
voice_enable "0"
net_graph "0"
cl_showfps "0"
cl_showpos "0"

// ----------------------------------------------------------------------------
// Lock settings
// ----------------------------------------------------------------------------
alias cl_hud_minmode ""
alias fov_desired ""
alias viewmodel_fov ""
alias r_drawviewmodel ""
alias tf_use_min_viewmodels ""
alias tf_use_match_hud ""
alias hud_combattext ""
alias hud_combattext_red ""
alias hud_combattext_green ""
alias hud_combattext_blue ""
alias cl_crosshair ""
alias cl_crosshair_file ""
alias cl_crosshair_scale ""
alias cl_crosshair_red ""
alias cl_crosshair_green ""
alias cl_crosshair_blue ""
alias cl_crosshair_alpha ""
alias tf_dingalingaling ""
alias hud_saytext_time ""
alias voice_enable ""
alias net_graph ""
alias cl_showfps ""
alias cl_showpos ""

// ----------------------------------------------------------------------------
// LOD
// ----------------------------------------------------------------------------
r_rootlod "0"
r_lod "-1"

// ----------------------------------------------------------------------------
// Lighting
// ----------------------------------------------------------------------------
mat_filterlightmaps "1"
r_ambientboost "1"
r_lightaverage "1"
r_dynamic "1"
r_maxdlights "32"
r_worldlightmin "0.0002"
r_lightcache_zbuffercache "0"
r_worldlights "4"
mat_disable_lightwarp "0"
mat_reducefillrate "0"
r_rimlight "1"
mat_specular "1"
r_pixelvisibility_partial "1"
building_cubemaps "0"
r_dopixelvisibility "1"
mat_parallaxmap "0"

// ----------------------------------------------------------------------------
// Shadows
// ----------------------------------------------------------------------------
r_shadows "1"
r_shadowrendertotexture "1"
cl_blobbyshadows "0"
r_shadowmaxrendered "23"
nb_shadow_dist "1000"
r_flashlightdepthtexture "0"
r_flashlightrender "0"
r_flashlightmodels "0"
r_flashlightculldepth "0"
r_flashlightscissor "0"

// ----------------------------------------------------------------------------
// Effects
// ----------------------------------------------------------------------------
tracer_extra "1"
r_drawtracers_firstperson "1"
cl_show_splashes "1"
cl_ejectbrass "1"
cl_muzzleflash_dlight_1st "1"
cl_drawmonitors "1"
muzzleflash_light "1"
cl_fasttempentcollision "17"

// ----------------------------------------------------------------------------
// Water
// ----------------------------------------------------------------------------
r_WaterDrawReflection "1"
r_waterforceexpensive "1"
r_waterforcereflectentities "1"
r_WaterDrawRefraction "1"

// ----------------------------------------------------------------------------
// Particles
// ----------------------------------------------------------------------------
tf_impactwatertimeenable "0"
cl_particle_batch_mode "1"
tf_particles_disable_weather "0"
mat_reduceparticles "0"
cl_new_impact_effects "1"
r_drawflecks "1"

// ----------------------------------------------------------------------------
// Post processing
// ----------------------------------------------------------------------------
mat_hdr_level "1"
mat_colorcorrection "1"
mat_colcorrection_disableentities "0"
mat_bloom_scalefactor_scalar "0.75"
r_bloomtintr "0.3"
r_bloomtintg "0.59"
r_bloomtintb "0.11"
r_bloomtintexponent "2.2"

// ----------------------------------------------------------------------------
// Anti aliasing
// ----------------------------------------------------------------------------
mat_alphacoverage "1"
mat_antialias "8"
mat_software_aa_strength "0"
mat_software_aa_strength_vgui "0"

// ----------------------------------------------------------------------------
// Texture filtering
// ----------------------------------------------------------------------------
mat_forceaniso "16"
mat_trilinear "1"

// ----------------------------------------------------------------------------
// Characters
// ----------------------------------------------------------------------------
r_flex "1"
flex_rules "1"
anim_3wayblend "1"
r_teeth "1"
flex_smooth "1"
r_eyes "1"
r_eyemove "1"
tf_clientsideeye_lookats "1"
blink_duration "0.2"
phonemefilter "0.08"
phonemedelay "0"
phonemesnap "4"

// ----------------------------------------------------------------------------
// Decals
// ----------------------------------------------------------------------------
r_decals "2048"
mp_decals "2048"
r_decal_cover_count "8"
r_decal_overlap_area "1"
r_decal_overlap_count "8"
r_drawmodeldecals "1"
r_maxmodeldecal "32"
r_renderoverlayfragment "1"

// ----------------------------------------------------------------------------
// Gibs
// ----------------------------------------------------------------------------
cl_burninggibs "1"
props_break_max_pieces "-1"
tf_playergib "1"
violence_hgibs "1"
violence_hblood "1"
violence_agibs "1"
violence_ablood "1"

// ----------------------------------------------------------------------------
// Props
// ----------------------------------------------------------------------------
r_decalstaticprops "1"
cl_phys_props_enable "1"
r_drawdetailprops "1"
r_staticprop_lod "0"
r_PhysPropStaticLighting "1"
r_propsmaxdist "900"
lod_TransitionDist "400"
cl_phys_props_max "100"
cl_phys_props_respawndist "901"
cl_phys_props_respawnrate "60"

// ----------------------------------------------------------------------------
// Ragdolls
// ----------------------------------------------------------------------------
cl_ragdoll_fade_time "10"
cl_ragdoll_forcefade "0"
cl_ragdoll_physics_enable "1"
cl_ragdoll_collide "1"
ragdoll_sleepaftertime "5"

// ----------------------------------------------------------------------------
// Textures
// ----------------------------------------------------------------------------
mat_filtertextures "1"
mat_picmip "-1"
mat_disable_fancy_blending "0"

// ----------------------------------------------------------------------------
// Ropes
// ----------------------------------------------------------------------------
r_drawropes "1"
rope_rendersolid "1"
r_ropetranslucent "1"
rope_smooth "1"
rope_subdiv "7"
rope_collide "1"
rope_wind_dist "1000"

// ----------------------------------------------------------------------------
// Sound
// ----------------------------------------------------------------------------
snd_disable_mixer_duck "1"
snd_pitchquality "0"
dsp_slow_cpu "1"
snd_spatialize_roundrobin "3"
dsp_room "0"
dsp_facingaway "0"
dsp_speaker "0"
dsp_water "0"
dsp_spatial "0"
snd_defer_trace "1"

// ----------------------------------------------------------------------------
// File I/O
// ----------------------------------------------------------------------------
net_maxfilesize "64"
filesystem_buffer_size "32768"
filesystem_max_stdio_read "64"
filesystem_native "1"
filesystem_unbuffered_io "1"
tf_steam_workshop_query_timeout "5"

// ----------------------------------------------------------------------------
// Memory
// ----------------------------------------------------------------------------
mem_max_heapsize_dedicated "128"
lzma_persistent_buffer "1"
cl_always_flush_models "0"
mat_levelflush "1"
sv_forcepreload "0"
mat_bufferprimitives "1"

// ----------------------------------------------------------------------------
// Model Cache
// ----------------------------------------------------------------------------
mod_load_anims_async "0"
mod_load_mesh_async "0"
mod_load_vcollide_async "0"
mod_lock_mdls_on_load "0"
mod_forcetouchdata "1"
mod_touchalldata "1"
mod_forcedata "1"

// ----------------------------------------------------------------------------
// Threading
// ----------------------------------------------------------------------------
mat_queue_mode "-2"
cl_setupallbones "0"
cl_threaded_client_leaf_system "0"
r_queued_decals "0"
r_queued_ropes "1"
r_queued_post_processing "0"
r_threaded_client_shadow_manager "1"
r_threaded_particles "1"
r_threaded_renderables "1"
host_thread_mode "1"
snd_async_fullyasync "1"
snd_async_minsize "0"

// ----------------------------------------------------------------------------
// Optimization
// ----------------------------------------------------------------------------
mat_vsync "0"
mat_powersavingsmode "0"
engine_no_focus_sleep "0"
r_fastzreject "0"
r_occlusion "1"
r_occludeemaxarea "1"
r_occluderminarea "1"
r_occludermincount "2"
mat_tonemapping_occlusion_use_stencil "1"
host_flush_threshold "0"
r_norefresh "1"
fast_fogvolume "1"
sv_alternateticks "0"
mod_offline_hdr_switch "1"
mat_forcemanagedtextureintohardware "0"
r_hunkalloclightmaps "0"
mat_requires_rt_alloc_first "0"
sys_minidumpspewlines "0"
r_shader_srgb "0"
sv_logdownloadlist "0"
cl_localnetworkbackdoor "0"
cl_particle_retire_cost "0"

// ----------------------------------------------------------------------------
// Misc.
// ----------------------------------------------------------------------------
r_3dsky "1"
cl_jigglebone_framerate_cutoff "1"
mat_bumpmap "1"
r_pixelfog "1"
pyro_dof "1"
pyro_vignette "2"
pyro_vignette_distortion "1"
mat_motion_blur_enabled "1"
mat_motion_blur_falling_intensity "0"
mat_motion_blur_percent_of_screen_max "1.5"
mat_motion_blur_rotation_intensity "0.05"
mat_motion_blur_strength "0.5"
r_spray_lifetime "0"
cl_playerspraydisable "1"
tf_sheen_framerate "15"
tf_sheen_alpha_firstperson "1"

// ----------------------------------------------------------------------------
// Print to console
// ----------------------------------------------------------------------------
clear
mem_compact
echo "-------------------------------------"
echo "    jeebs fragmovie config loaded    "
echo "-------------------------------------"
echo "Please direct all comments/queries to"
echo "jayyy lmao#1999 on Discord."

// TODO: I DESERVE ICE-CREAM!
//             -/oossss/-````
//         -ohNmddhhhhhmNNNmNNh/`
//       .yNmyso++++++oooooooshNm:
//     /NNyssoossssssoooosooo+omM/
//     +Mmsssssssssssssssssssso+sNN.
//     NNssssssssssssssssssssssoshMo
//     MNsssyssssssssssssssssssssyMy
//     hMyssdhsshyssssssssssssydmNMmo-
//     :NMdhhhhyhdhhhysssssssshdhhhhmNo
//  .ymmddmdsyyhysyyssssssssssyhyhhsmM.
//  `mNyhhhyhsyhhssssssssyhyssssssyhsmM.
//  .MmyhysdMhyhssyyyssyNmdMdshdddhhdMy
//   +dmmdmNNNddmmddmmmmd/oMdyMdosMNo:`
//     .:hMy/+oso/:-:++/--dMyyMy-yM+
//       `dN/-:++:--:++/--NNyhMy+My
//         .mN///:+/:+/:+/-smmmd+Nm`
//         .mm++:-:::----:-::+:hM:
//          -Nm+/-++/---/++:/+yMo
//           :Nd:/+:+/-/+://:+Nh
//            /Mh//--::::-:+:mN.
//             oMy+/-/+/--+/hM/
//              sMs-/+:/+:-oMs
//               yMo//--/:/Nd`
//               `hMo+::+/mN.
//                `dN+-:/yM+
//                 `mN:-+My
//                  .mNsNd`
//                   `+o/
//                    ``
// TODO: SPREAD THE WORD :D

// DATA FOR ICE-CREAM INSTALLER UPDATER
// JEEBS FRAGMOVIE CONFIG
// VERSION 2.2